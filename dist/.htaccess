<IfModule mod_expires.c>
ExpiresActive On
ExpiresByType image/jpg "access 1 year"
ExpiresByType image/jpeg "access 1 year"
ExpiresByType image/gif "access 1 year"
ExpiresByType image/png "access 1 year"
ExpiresByType text/css "access 1 month"
ExpiresByType text/html "access 1 month"
ExpiresByType application/pdf "access 1 month"
ExpiresByType text/x-javascript "access 1 month"
ExpiresByType application/x-shockwave-flash "access 1 month"
ExpiresByType image/x-icon "access 1 year"
ExpiresDefault "access 1 month"
</IfModule>

AddHandler application/x-httpd-php .php .htm .html

RewriteEngine on
Options All -Indexes
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [R=301,L]

#Редирект на https

#RewriteCond %{HTTP_HOST} ^http://apeirocomp.ru$ [NC]
#RewriteRule ^(.*)$ https://apeirocomp.ru/$1 [R=301,L]
#RewriteCond %{HTTP_HOST} ^www.apeirocomp.ru$ [NC]
#RewriteRule ^(.*)$ https://apeirocomp.ru/$1 [R=301,L]


#Показать ошибки PHP

#php_flag display_errors on
#php_value error_reporting 2047


# Убираем .html 

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^.*$ $0.html [L,QSA]
RewriteCond %{THE_REQUEST} ([^\s]*)\.html(\?[^\s]*)?
RewriteRule (.*) %1 [R=301,L]


#Страницы ошибок

ErrorDocument 404 /index.php
ErrorDocument 403 /index.php


#Перенаправление при обновлении

#order deny,allow

#        deny from all

#        allow from 123.123.123.123

#      ErrorDocument 403 /page.html

#      <Files page.html>

#        allow from all

#        </Files>


#Редирект на новые страницы

#Redirect 301 /old.html http://yoursite.com/new.html


#Правила кэширования

Header set Cache-Control "max-age=604800, public"


#Защита кросскриптинга
RewriteRule \.(jpg|jpeg|png|gif|svg|webp)$ - [NC,F,L]
Header set X-XSS-Protection "1; mode=block"